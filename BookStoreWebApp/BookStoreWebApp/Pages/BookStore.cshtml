@page
@model BookStoreApi.Pages.BookStoreModel
@{
}


<div class="text-center">
    <h1 class="display-4">Welcome to the Book Store</h1>

    <p>
        Total books: <span>@Model.BookResult.Books.Count</span>
    </p>

    <div class="row" style="margin-bottom:10px;">

        @Html.AntiForgeryToken()
        <div class="input-group mb-3">
            <input type="text" id="txt-search" class="form-control" placeholder="Search by author, book name or category" aria-label="Recipient's username" aria-describedby="button-addon2">
            <div class="input-group-append">
                <button class="btn btn-outline-secondary btn-primary" type="button" id="button-bookSearch">Search</button>
            </div>
        </div>

    </div>


    <div class="row" style="margin-bottom:10px;">
        <div class="col-12">
            <a asp-area="Book" asp-page="New" class="btn btn-primary float-left">New Book</a>
        </div>

    </div>

    <div class="row" id="books-result">
        @await Html.PartialAsync("~/Pages/Shared/_BooksResult.cshtml", Model.BookResult)
    </div>

</div>

@section Scripts {
    <script src="~/js/dtos/searchBookDto.js" asp-append-version="true"></script>
    <script src="~/js/services/book/book.service.js" asp-append-version="true"></script>
    <script src="~/js/pages-controllers/bookstore.controller.js" asp-append-version="true"></script>

    <script type="text/javascript" asp-append-version="true">
        BookStoreController.init();
    </script>

}